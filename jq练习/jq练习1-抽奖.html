<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>jq练习1-抽奖</title>
<meta name="renderer" content="webkit">
<style>
	*{
		margin: 0;
		padding: 0;
	}
	ul{
		list-style: none;
		width: 303px;
		margin-top: 50px;
	}
	#J_chou{
		width: 100px;
		height: 30px;
		margin-top: 50px;
	}
	li{
		width: 100px;
		height: 100px;
		text-align: center;
		line-height: 100px;
		float: left;
		border: 1px solid #000;
		margin-right: -1px;
	}
	li.active{
		background-color: #f60;
	}
</style>
</head>
<body>
<input type="button" id="J_chou" value="抽奖">
<ul>
	<li>1等奖</li>
	<li>2等奖</li>
	<li>3等奖</li>
	<li>4等奖</li>
	<li>5等奖</li>
	<li>6等奖</li>
	<li>7等奖</li>
	<li>8等奖</li>
	<li>9等奖</li>
</ul>
<script src="http://apps.bdimg.com/libs/jquery/1.10.0/jquery.min.js"></script>
<script>
	var iNow = 0;
	$('#J_chou').on('click',function (){
		var step = parseInt( Math.random()*20+5 );
		var timer = setInterval(function (){
			iNow++;
			step--;
			
			if( step == 0){
				clearInterval(timer);
			}
			if(iNow == $('li').length){
				iNow = 0;
			}
			$('li').removeClass('active').eq(iNow).addClass('active');
			console.log(iNow,step);
		},300);
	});
</script>
</body>
</html>